
import React,{useEffect,useState} from 'react'
export default function Settings({account,setAccount,setTheme}){ const [accounts,setAccounts]=useState([]); useEffect(()=> setAccounts(JSON.parse(localStorage.getItem('cw_accounts')||'[]')),[])
function transferTo(id){ if(!account.isStreamer) return alert('Only streamer can transfer'); const db=JSON.parse(localStorage.getItem('cw_accounts')||'[]'); for(let i=0;i<db.length;i++){ db[i].isStreamer = db[i].id===id } localStorage.setItem('cw_accounts', JSON.stringify(db)); const me = db.find(a=>a.id===id); setAccount(me); alert('Transferred streamer to '+me.name) }
return (<div className='settings-page'><h2>Settings</h2><div className='panel'><label>Theme</label><div style={{display:'flex',gap:8,marginTop:8}}><button className='btn' onClick={()=>setTheme('dark')}>Dark</button><button className='btn' onClick={()=>setTheme('tournament')}>Tournament</button><button className='btn' onClick={()=>setTheme('neon')}>Neon</button></div></div><div className='panel'><h4>Streamer Controls</h4><div>Transfer streamership</div><div style={{marginTop:8}}><select id='transferSelect' className='btn' style={{padding:8}}>{accounts.filter(a=>a.id!==account.id).map(a=> <option value={a.id} key={a.id}>{a.name}</option>)}</select><button className='btn primary' style={{marginLeft:8}} onClick={()=>{ const sel=document.getElementById('transferSelect'); if(sel && sel.value) transferTo(sel.value) }}>Transfer</button></div></div></div>) }
